@using ravenhill_blazor.Layout.Bib
@using Ravenhill.Data
@inherits LayoutComponentBase
@inject ThemeService ThemeService

<div class="app-container">
    <header>
        <SiteTitle Message="Metodologías de Diseño y Programación Avanzadas"/>
    </header>

    <div class="content-area">
        <Sidebar>
            <ul>
                <li><a href="/">Inicio</a></li>
                <li><a href="/about">Propósito del curso</a></li>
                <li><a href="/syllabus">Temario</a></li>
                <li><a href="/notes">Apuntes</a></li>
            </ul>
        </Sidebar>

        <main class="main">
            @Body
        </main>
    </div>

    <Bibliography/>
    <footer>
        <div class="button-container">
            <DarkModeToggle/>
            <GithubLink/>
        </div>
        <div class="copyright-container">
            <a href="mailto:reachme@ravenhill.cl">© 2024 Ignacio Slater</a>
        </div>
    </footer>
</div>

@code {

    protected override async Task OnInitializedAsync() {
        await ThemeService.InitializeThemeAsync();
    }

}

<style>

    .sidebar {
        flex: 0 0 250px; /* Fixed width */
        background: var(--color-background-soft);
        height: 100vh;
        position: fixed;
        top: 0;
        left: 0;
        padding: 1rem;
        box-shadow: 2px 0 5px rgba(0,0,0,0.1);
        display: flex;
        flex-direction: column; /* Organize content vertically */
    }

    .sidebar-content {
        overflow-y: auto; /* Only this part scrolls */
        flex-grow: 1;
    }

    .sidebar ul {
        list-style: none;
        margin-top: 1rem;
    }

    .sidebar li a {
        color: var(--color-text);
        text-decoration: none;
        display: flex;
        align-items: center;
        padding: 10px;
        transition: background-color 0.3s, padding-left 0.3s;
    }

    .sidebar li a:hover {
        background-color: var(--highlight-color);
        color: #ffffff;
        padding-left: 20px; /* Indent text on hover */
    }


    .sidebar-header {
        padding: 0.5rem 0;
        font-size: 1.2rem;
        font-weight: bold;
        border-bottom: 1px solid var(--color-border);
    }


    .sidebar li i {
        margin-right: 10px; /* Space between icon and text */
    }

    .content-area {
        display: flex;
        flex: 1;
        margin-left: 250px; /* Ensure content area starts after the sidebar */
    }

    /* Example usage of icons */
    .sidebar li a .fas {
        min-width: 20px; /* Ensure icons align neatly */
    }
</style>